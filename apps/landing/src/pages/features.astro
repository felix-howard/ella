---
/**
 * Features page — 8 detailed capabilities with alternating zigzag layout.
 * Each section: icon, heading, description, benefit bullets, image placeholder.
 * Sections alternate: odd = content left / image right, even = image left / content right.
 */
import BaseLayout from "@/layouts/base-layout.astro";
import HeadSEO from "@/components/seo/head-seo.astro";
import CTASection from "@/components/cta-section.astro";
import { breadcrumbSchema } from "@/components/seo/structured-data";
import { siteConfig } from "@/config/site";

const structuredData = [
  breadcrumbSchema([
    { name: "Home", url: siteConfig.url },
    { name: "Features", url: `${siteConfig.url}/features` },
  ]),
];

/** SVG path data for each feature icon (Heroicons outline style, stroke-based) */
const features = [
  // SMS Direct Upload — clients text docs to firm's Twilio number
  {
    icon: "M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z",
    title: "Clients text docs — no app download required",
    description:
      "Other portals fail because clients won't download apps, remember passwords, or learn new interfaces. Ella meets them where they are: their phone's camera and text messages. Clients text docs directly to your firm's Ella number — documents get processed by AI automatically.",
    benefits: [
      "No app or portal download required",
      "No username/password to remember",
      "Works on any phone (smartphone or basic)",
      "Documents still processed by AI classification",
    ],
    image: "/assets/Screenshot_379.png",
    imageAlt: "SMS messaging interface showing client sending tax document via text message",
  },
  // AI Auto-Rename — transforms garbage filenames into organized structure
  {
    icon: "M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z M6 6h.008v.008H6V6z",
    title: "Turn garbage uploads into organized files",
    description:
      "Clients send files named 'IMG_2847.jpg', 'doc (3).pdf', 'scan123.pdf'. Ella's AI reads the content and renames each file with a structured pattern: YEAR_DOCTYPE_SOURCE_CLIENT. Never rename a file manually again.",
    benefits: [
      "Pattern: 2024_FORM_1099_NEC_LeFamilyNailSpa_FionaPhsdam.pdf",
      "Filters out irrelevant uploads (cat photos, duplicates)",
      "Flags unknown documents for review",
      "Searchable, consistent naming across entire firm",
    ],
    image: "/assets/Screenshot_369.png",
    imageAlt: "Client files view showing organized documents with structured naming convention",
  },
  // AI Document Classification
  {
    icon: "M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",
    title: "Instantly classify 89+ tax document types",
    description:
      "Our AI engine identifies W-2s, 1099s, K-1s, bank statements, and 85+ other tax forms with 99% accuracy. No more manual sorting.",
    benefits: [
      "Classify documents in seconds, not hours",
      "99% accuracy rate with confidence scoring",
      "Automatic flagging for manual review when needed",
      "Continuous learning improves over time",
    ],
    image: "/assets/Screenshot_371.png",
    imageAlt: "Schedule C view showing classified income and expense data",
  },
  {
    icon: "M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM10.5 7.5v6m3-3h-6",
    title: "Extract structured data automatically",
    description:
      "OCR technology pulls key information from documents — income figures, employer details, dates, and more — into structured fields ready for your tax software.",
    benefits: [
      "Eliminate manual data entry",
      "Extract W-2 boxes, 1099 fields, K-1 schedules",
      "Export to CSV or integrate with tax prep software",
      "Verify extracted data with side-by-side view",
    ],
    image: "/assets/blur-image.png",
    imageAlt: "1099-NEC document with extracted data fields for verification",
  },
  {
    icon: "M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m9.86-2.54a4.5 4.5 0 00-6.364-6.364L4.5 8.25l4.5 4.5",
    title: "Passwordless client upload portal",
    description:
      "Send clients a magic link. They upload documents securely without creating an account. No passwords, no friction — just drag, drop, done.",
    benefits: [
      "Zero-friction client experience",
      "Secure magic link authentication",
      "Mobile-friendly upload on any device",
      "Automatic email notifications on upload",
    ],
    images: [
      { src: "/assets/Screenshot_376.png", alt: "Client portal upload screen with tap to upload button" },
      { src: "/assets/Screenshot_378.png", alt: "Business expense form with income and expenses" },
    ],
  },
  {
    icon: "M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z",
    title: "Role-based access and client assignments",
    description:
      "Invite team members, assign clients to specific staff, and manage workload with role-based permissions. Admins control access, staff handle assigned cases.",
    benefits: [
      "Assign clients to specific staff members",
      "Admin/Staff role permissions",
      "Task queues and action items",
      "Audit trail for compliance",
    ],
    image: "/assets/Screenshot_374.png",
    imageAlt: "Clients list view with team assignment management",
  },
  {
    icon: "M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z",
    title: "Built-in voice calling and SMS",
    description:
      "Call clients directly from your browser with Twilio WebRTC. Send SMS reminders, receive voicemails, and transcribe messages — all in one inbox.",
    benefits: [
      "Browser-based calling (no phone system needed)",
      "SMS reminders for missing documents",
      "Voicemail transcription with AI",
      "Unified message inbox",
    ],
    image: "/assets/Screenshot_380.png",
    imageAlt: "Incoming call interface with accept and reject buttons",
  },
];

import { checkPath } from "@/lib/icons";
---

<BaseLayout>
  <HeadSEO
    slot="head"
    title="Features - Ella Tax Document Management | AI Classification, OCR, Client Portals"
    description="Explore Ella's powerful features: AI document classification, OCR data extraction, client portals, team collaboration, voice/SMS, and multi-year engagements. Built for tax professionals."
    structuredData={structuredData}
  />

  <main>
    <!-- Hero Section -->
    <section class="pt-24 pb-16 sm:pt-32 sm:pb-20">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 text-center">
        <p
          class="mb-4 text-sm font-semibold uppercase tracking-widest text-primary-800"
          data-animate="fade-up"
        >
          Capabilities
        </p>
        <h1
          class="text-3xl font-extrabold leading-tight tracking-tight text-gray-900 sm:text-4xl md:text-5xl lg:text-6xl"
          data-animate="fade-up"
        >
          Powerful features built for
          <span class="text-primary-600">tax professionals</span>
        </h1>
        <p
          class="mx-auto mt-6 max-w-2xl text-lg leading-relaxed text-gray-600 md:text-xl"
          data-animate="fade-up"
        >
          From SMS uploads to AI classification — everything you need to
          streamline tax document collection in one platform.
        </p>
      </div>
    </section>

    <!-- 8 Feature Sections — alternating zigzag layout -->
    {
      features.map((feature, index) => {
        const isOdd = index % 2 === 0;
        const bgClass = isOdd ? "bg-white" : "bg-gray-50";

        return (
          <section class:list={[bgClass, "py-16 sm:py-24"]} aria-label={feature.title}>
            <div class="mx-auto max-w-7xl px-4 sm:px-6">
              <div class:list={[
                "flex flex-col gap-8 sm:gap-16",
                "lg:grid lg:items-center",
                isOdd ? "lg:grid-cols-[2fr_3fr]" : "lg:grid-cols-[3fr_2fr]"
              ]}>
                {/* Content side - always first on mobile, position varies on desktop */}
                <div class:list={["order-1", !isOdd && "lg:order-2"]}>
                  {/* Heading */}
                  <h2
                    class="text-3xl font-bold text-gray-900"
                    data-animate="fade-up"
                  >
                    {feature.title}
                  </h2>

                  {/* Description */}
                  <p
                    class="mt-4 text-lg leading-relaxed text-gray-600"
                    data-animate="fade-up"
                  >
                    {feature.description}
                  </p>

                  {/* Benefit bullets */}
                  <ul class="mt-6 space-y-3" data-animate="fade-up">
                    {feature.benefits.map((benefit) => (
                      <li class="flex items-start gap-3">
                        <svg
                          class="mt-0.5 h-5 w-5 flex-shrink-0 text-primary-600"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                          stroke-width="2"
                          aria-hidden="true"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d={checkPath}
                          />
                        </svg>
                        <span class="text-gray-700">{benefit}</span>
                      </li>
                    ))}
                  </ul>
                </div>

                {/* Image side - always second on mobile, position varies on desktop */}
                <div class:list={["order-2", !isOdd && "lg:order-1"]} data-animate="fade-up">
                  {feature.images ? (
                    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center sm:items-start">
                      {feature.images.map((img) => (
                        <div class="overflow-hidden rounded-2xl border border-gray-200 shadow-xl">
                          <img
                            src={img.src}
                            alt={img.alt}
                            class="h-auto w-auto max-w-full"
                            loading="lazy"
                          />
                        </div>
                      ))}
                    </div>
                  ) : (
                    <div class="overflow-hidden rounded-2xl border border-gray-200 shadow-xl">
                      <img
                        src={feature.image}
                        alt={feature.imageAlt}
                        class="w-full h-auto"
                        loading="lazy"
                      />
                    </div>
                  )}
                </div>
              </div>
            </div>
          </section>
        );
      })
    }

    <!-- Bottom CTA -->
    <CTASection
      title="See Ella in action"
      description="Request a personalized demo and discover how Ella can transform your tax workflow."
      buttonText="Request a Demo"
      buttonHref="/#contact"
    />
  </main>
</BaseLayout>
